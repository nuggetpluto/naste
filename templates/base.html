<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>{{ title if title else "ZooAdmin" }}</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="sidebar">
    <h2 class="logo">ZooAdmin</h2>

    {% if user %}
    <ul class="menu">

        {# ---------------------------------- #}
        {#   –†–û–õ–¨: –ê–î–ú–ò–ù–ò–ù–°–¢–†–ê–¢–û–† (admin)     #}
        {# ---------------------------------- #}
        {% if user.role == "admin" %}
            <li><a href="/profile" class="{% if request.url.path == '/profile' %}active{% endif %}">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a></li>
            <li><a href="/home" class="{% if request.url.path == '/home' %}active{% endif %}">üè† –ì–ª–∞–≤–Ω–∞—è</a></li>

            <li><a href="/animals" class="{% if request.url.path.startswith('/animals') %}active{% endif %}">üêæ –£—á—ë—Ç –∂–∏–≤–æ—Ç–Ω—ã—Ö</a></li>

            <li class="dropdown">
                <div class="dropdown-title {% if request.url.path.startswith('/feed') %}active{% endif %}">
                    üçñ –ö–æ—Ä–º <span class="arrow">‚ñº</span>
                </div>
                <ul class="submenu">
                    <li><a href="/feed">–°–ø–∏—Å–æ–∫ –∫–æ—Ä–º–æ–≤</a></li>
                    <li><a href="/feed/add">–î–æ–±–∞–≤–∏—Ç—å –∫–æ—Ä–º</a></li>
                </ul>
            </li>

            <li class="dropdown">
                <div class="dropdown-title {% if request.url.path.startswith('/feedings') %}active{% endif %}">
                    üçΩÔ∏è –ö–æ—Ä–º–ª–µ–Ω–∏—è <span class="arrow">‚ñº</span>
                </div>
                <ul class="submenu">
                    <li><a href="/feedings">–ñ—É—Ä–Ω–∞–ª –∫–æ—Ä–º–ª–µ–Ω–∏–π</a></li>
                    <li><a href="/feedings/add">–î–æ–±–∞–≤–∏—Ç—å –∫–æ—Ä–º–ª–µ–Ω–∏–µ</a></li>
                </ul>
            </li>

            <li><a href="/medical">ü©∫ –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –æ—Å–º–æ—Ç—Ä—ã</a></li>
            <li><a href="/expenses" class="{% if request.url.path.startswith('/expenses') %}active{% endif %}">üìò –£—á—ë—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤</a></li>
            <li><a href="/rations">ü•ó –†–∞—Ü–∏–æ–Ω—ã</a></li>

            <li><a href="/purchases" class="{% if request.url.path.startswith('/purchases') %}active{% endif %}">üì¶ –ó–∞–∫—É–ø–∫–∏</a></li>

            <li><a href="/malfunctions" class="{% if request.url.path.startswith('/malfunctions') %}active{% endif %}">‚ö†Ô∏è –ñ—É—Ä–Ω–∞–ª –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π</a></li>

            <li><a href="/employees" class="{% if request.url.path.startswith('/employees') %}active{% endif %}">üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º</a></li>

            <li>
                <a href="/analytics"
                   class="{% if request.url.path.startswith('/analytics') %}active{% endif %}">
                    üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
                </a>
            </li>

        {# ---------------------------------- #}
        {#   –†–û–õ–¨: –†–£–ö–û–í–û–î–ò–¢–ï–õ–¨ (director)    #}
        {# ---------------------------------- #}
        {% elif user.role == "director" %}

            <li><a href="/profile" class="{% if request.url.path == '/profile' %}active{% endif %}">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a></li>
            <li><a href="/home" class="{% if request.url.path == '/home' %}active{% endif %}">üè† –ì–ª–∞–≤–Ω–∞—è </a></li>

            <li><a href="/purchases" class="{% if request.url.path.startswith('/purchases') %}active{% endif %}">üì¶ –ó–∞–∫—É–ø–∫–∏</a></li>
            <li><a href="/malfunctions" class="{% if request.url.path.startswith('/malfunctions') %}active{% endif %}">‚ö†Ô∏è –ñ—É—Ä–Ω–∞–ª –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π</a></li>
            <li><a href="/employees" class="{% if request.url.path.startswith('/employees') %}active{% endif %}">üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º</a></li>

            <li>
                <a href="/analytics"
                   class="{% if request.url.path.startswith('/analytics') %}active{% endif %}">
                    üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
                </a>
            </li>

        {# ---------------------------------- #}
        {#   –†–û–õ–¨: –ú–ï–ù–ï–î–ñ–ï–† (manager)         #}
        {# ---------------------------------- #}
        {% elif user.role == "manager" %}

            <li><a href="/profile" class="{% if request.url.path == '/profile' %}active{% endif %}">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a></li>
            <li><a href="/home" class="{% if request.url.path == '/home' %}active{% endif %}">üè† –ì–ª–∞–≤–Ω–∞—è</a></li>

            <li><a href="/animals" class="{% if request.url.path.startswith('/animals') %}active{% endif %}">üêæ –£—á—ë—Ç –∂–∏–≤–æ—Ç–Ω—ã—Ö</a></li>
            <li><a href="/purchases" class="{% if request.url.path.startswith('/purchases') %}active{% endif %}">üì¶ –ó–∞–∫—É–ø–∫–∏</a></li>
            <li><a href="/malfunctions" class="{% if request.url.path.startswith('/malfunctions') %}active{% endif %}">‚ö†Ô∏è –ñ—É—Ä–Ω–∞–ª –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π</a></li>

        {# ---------------------------------- #}
        {#   –†–û–õ–¨: –ó–û–û–¢–ï–•–ù–ò–ö (zootechnician)  #}
        {# ---------------------------------- #}
        {% elif user.role == "zootechnician" %}

            <li><a href="/profile" class="{% if request.url.path == '/profile' %}active{% endif %}">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a></li>
            <li><a href="/home" class="{% if request.url.path == '/home' %}active{% endif %}">üè† –ì–ª–∞–≤–Ω–∞—è</a></li>

            <li><a href="/feedings" class="{% if request.url.path.startswith('/feedings') %}active{% endif %}">üçΩÔ∏è –ñ—É—Ä–Ω–∞–ª –∫–æ—Ä–º–ª–µ–Ω–∏—è</a></li>
            <li><a href="/medical">ü©∫ –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –æ—Å–º–æ—Ç—Ä—ã</a></li>
            <li><a href="/expenses" class="{% if request.url.path.startswith('/expenses') %}active{% endif %}">üìò –£—á—ë—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤</a></li>
            <li><a href="/rations">ü•ó –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Ü–∏–æ–Ω–∞–º–∏</a></li>
            <li><a href="/malfunctions" class="{% if request.url.path.startswith('/malfunctions') %}active{% endif %}">‚ö†Ô∏è –ñ—É—Ä–Ω–∞–ª –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π</a></li>

        {% endif %}

        <li><a href="/logout" class="logout">üìï –í—ã–π—Ç–∏</a></li>

    </ul>
    {% endif %}
</div>

<div class="main-content">
    {% if user %}
    <header class="page-header">
        <h1>ZooAdmin ‚Äî —Å–∏—Å—Ç–µ–º–∞ —É—á—ë—Ç–∞ –∑–æ–æ–ø–∞—Ä–∫–∞</h1>
    </header>
    {% endif %}

    <main class="page-content">
        {% block content %}{% endblock %}
    </main>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const dropdowns = document.querySelectorAll(".dropdown");

    dropdowns.forEach(drop => {
        const title = drop.querySelector(".dropdown-title");
        const submenu = drop.querySelector(".submenu");
        const arrow = drop.querySelector(".arrow");

        if (title) {
            title.addEventListener("click", () => {
                submenu.classList.toggle("open");
                arrow.classList.toggle("rotated");
            });
        }
    });
});
</script>

</body>
</html>