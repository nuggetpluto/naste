{% extends "base.html" %}
{% block content %}

<h2>–ü—Ä–æ—Ñ–∏–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h2>

<style>
    .profile-wrapper {
        display: flex;
        flex-wrap: wrap;
        gap: 24px;
        margin-top: 10px;
    }

    .profile-card,
    .password-card {
        background: #ffffff;
        border-radius: 10px;
        padding: 20px 22px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
        min-width: 320px;
        max-width: 480px;
    }

    .profile-card h3,
    .password-card h3 {
        margin-top: 0;
        margin-bottom: 16px;
        font-size: 18px;
    }

    .profile-table {
        width: 100%;
        border-collapse: collapse;
    }

    .profile-table td {
        padding: 6px 4px;
        vertical-align: top;
    }

    .profile-table td.label {
        font-weight: 600;
        width: 160px;
        color: #444;
    }

    .alert-success {
        margin-top: 6px;
        margin-bottom: 12px;
        padding: 8px 12px;
        border-radius: 6px;
        background: #e4f7e9;
        border: 1px solid #6ccf83;
        color: #20663a;
        font-size: 14px;
    }

    .alert-error {
        margin-top: 6px;
        margin-bottom: 12px;
        padding: 8px 12px;
        border-radius: 6px;
        background: #fdeaea;
        border: 1px solid #f19999;
        color: #a12323;
        font-size: 14px;
    }

    .password-form .form-row {
        margin-bottom: 12px;
    }

    .password-form label {
        display: block;
        margin-bottom: 4px;
        font-weight: 600;
        font-size: 14px;
    }

    .password-form input[type="password"] {
        width: 100%;
        box-sizing: border-box;
        padding: 6px 8px;
        border-radius: 4px;
        border: 1px solid #ccc;
        font-size: 14px;
    }

    .password-form .btn {
        margin-top: 8px;
    }
</style>

{% if message %}
    <div class="alert-success">{{ message }}</div>
{% endif %}
{% if error %}
    <div class="alert-error">{{ error }}</div>
{% endif %}

<div class="profile-wrapper">

    <!-- –õ–µ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ -->
    <section class="profile-card">
        <h3>üë§ –õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
        <table class="profile-table">
            <tr>
                <td class="label">–§–ò–û:</td>
                <td>{{ user.full_name }}</td>
            </tr>
            <tr>
                <td class="label">–î–æ–ª–∂–Ω–æ—Å—Ç—å:</td>
                <td>{{ user.position }}</td>
            </tr>
            <tr>
                <td class="label">–¢–µ–ª–µ—Ñ–æ–Ω:</td>
                <td>{{ user.phone or "‚Äî" }}</td>
            </tr>
            <tr>
                <td class="label">–°—Ç–∞—Ç—É—Å:</td>
                <td>{{ user.status }}</td>
            </tr>
        </table>
    </section>

    <!-- –ü—Ä–∞–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞: —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è -->
    <section class="password-card">
        <h3>üîí –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è</h3>

        <form method="post" action="/profile/update" class="password-form">

            <div class="form-row">
                <label for="old_password">–°—Ç–∞—Ä—ã–π –ø–∞—Ä–æ–ª—å:</label>
                <input id="old_password" type="password" name="old_password" required>
            </div>

            <div class="form-row">
                <label for="new_password">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å:</label>
                <input id="new_password" type="password" name="new_password" required>
            </div>

            <div class="form-row">
                <label for="confirm_password">–ü–æ–≤—Ç–æ—Ä –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è:</label>
                <input id="confirm_password" type="password" name="confirm_password" required>
            </div>

            <button type="submit" class="btn">–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
        </form>
    </section>

</div>

{% endblock %}