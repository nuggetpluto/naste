--
-- PostgreSQL database dump
--

\restrict TFlGGcugEW00qNX4Ic1dBAAsfEn7Y4zT2YdaBbm3TvntBU4NZntBwkPZmL0hcSH

-- Dumped from database version 18.1 (Postgres.app)
-- Dumped by pg_dump version 18.1 (Postgres.app)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: check_purchase_items(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.check_purchase_items() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
DECLARE
    cnt INT;
BEGIN
    -- считаем количество позиций для этой закупки
    SELECT COUNT(*) INTO cnt
    FROM "СоставЗакупки"
    WHERE "IDЗакупки" = NEW."IDЗакупки";

    IF cnt = 0 THEN
        RAISE EXCEPTION
            'Закупка должна содержать как минимум одну позицию в составе!';
    END IF;

    RETURN NEW;
END;
$$;


ALTER FUNCTION public.check_purchase_items() OWNER TO postgres;

--
-- Name: check_purchase_status(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.check_purchase_status() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
DECLARE
    old_status TEXT;
    new_status TEXT;
BEGIN
    old_status := OLD."СтатусПоставки";
    new_status := NEW."СтатусПоставки";

    -- Разрешён переход в тот же самый статус
    IF old_status = new_status THEN
        RETURN NEW;
    END IF;

    -- Разрешённые переходы по цепочке
    IF (old_status = 'Заявка отправлена' AND new_status = 'Ожидание') OR
       (old_status = 'Ожидание' AND new_status = 'Доставлено') THEN
        RETURN NEW;
    END IF;

    -- Во всех других случаях — ошибка
    RAISE EXCEPTION 'Недопустимый переход статуса: % → %', old_status, new_status;
END;
$$;


ALTER FUNCTION public.check_purchase_status() OWNER TO postgres;

--
-- Name: ДобавитьЖивотноеИМедкарту(character varying, character varying, character varying, integer, character varying, character, integer, character varying, character varying, character varying, character varying); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public."ДобавитьЖивотноеИМедкарту"("p_ФИОМенеджера" character varying, "p_ФИОЗоотехника" character varying, "p_ВидЖивотного" character varying, "p_Возраст" integer, "p_Кличка" character varying, "p_Пол" character, "p_idРациона" integer, "p_Диагноз" character varying, "p_НазначенноеЛечение" character varying, "p_Прививки" character varying, "p_РезультатПроцедуры" character varying) RETURNS void
    LANGUAGE plpgsql
    AS $$DECLARE
    v_IDЗоотехника  int;
    v_IDЖивотного   int;
BEGIN
    -- ID зоотехника
    SELECT "IDСотрудника" INTO v_IDЗоотехника
    FROM "Сотрудник"
    WHERE "ФИО" = p_ФИОЗоотехника;

    -- проверка уникальности клички
    IF EXISTS (
        SELECT 1 FROM "Животное"
        WHERE "Кличка" = p_Кличка
    ) THEN
        RAISE EXCEPTION 'Кличка уже занята. Введите другую.';
    END IF;

    -- вставка животного (IDЖивотного генерируется автоматически)
    INSERT INTO "Животное"(
        "IDСотрудника",
        "IDРациона",
        "Вид",
        "Возраст",
        "ДатаПоступления",
        "СостояниеЗдоровья",
        "Кличка",
        "Пол"
    )
    VALUES (
        v_IDЗоотехника,
        p_IDРациона,
        p_ВидЖивотного,
        p_Возраст,
        CURRENT_DATE,
        'Здоров',
        p_Кличка,
        p_Пол
    )
    RETURNING "IDЖивотного" INTO v_IDЖивотного;

    -- вставка медкарты (IDМедкарты генерируется автоматически)
    INSERT INTO "Медкарта"(
        "IDСотрудника",
        "IDЖивотного",
        "ДатаОсмотра",
        "Диагноз",
        "НазначенноеЛечение",
        "Прививки",
        "РезультатПроцедуры"
    )
    VALUES (
        v_IDЗоотехника,
        v_IDЖивотного,
        CURRENT_DATE,
        p_Диагноз,
        p_НазначенноеЛечение,
        p_Прививки,
        p_РезультатПроцедуры
    );

END;$$;


ALTER FUNCTION public."ДобавитьЖивотноеИМедкарту"("p_ФИОМенеджера" character varying, "p_ФИОЗоотехника" character varying, "p_ВидЖивотного" character varying, "p_Возраст" integer, "p_Кличка" character varying, "p_Пол" character, "p_idРациона" integer, "p_Диагноз" character varying, "p_НазначенноеЛечение" character varying, "p_Прививки" character varying, "p_РезультатПроцедуры" character varying) OWNER TO postgres;

--
-- Name: Животное_ПроверкаРациона_fn(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public."Животное_ПроверкаРациона_fn"() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
    -- проверяем соответствие вида и рациона
    IF EXISTS (
        SELECT 1
        FROM "Рацион" r
        WHERE r."IDРациона" = NEW."IDРациона"
          AND r."ВидЖивотного" <> NEW."Вид"
    ) THEN
        RAISE EXCEPTION 'Рацион не соответствует виду животного.';
    END IF;

    RETURN NEW;
END;
$$;


ALTER FUNCTION public."Животное_ПроверкаРациона_fn"() OWNER TO postgres;

--
-- Name: КормлениеЖивотного(character varying, character varying); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public."КормлениеЖивотного"("p_ФИОСотрудника" character varying, "p_КличкаЖивотного" character varying) RETURNS TABLE("Сообщение" text, "Кличка" character varying, "СписаноКорма" integer, "ОстатокПослеСписания" integer)
    LANGUAGE plpgsql
    AS $$
DECLARE
    v_IDСотрудника    int;
    v_IDЖивотного     int;
    v_IDКорма         int;
    v_Количество      int;
    v_ТекущийОстаток  int;
BEGIN
    -- ID сотрудника по ФИО
    SELECT "IDСотрудника" INTO v_IDСотрудника
    FROM "Сотрудник"
    WHERE "ФИО" = p_ФИОСотрудника;

    -- проверка должности
    IF EXISTS (
        SELECT 1
        FROM "Сотрудник"
        WHERE "IDСотрудника" = v_IDСотрудника
          AND "Должность" <> 'Зоотехник'
    ) THEN
        RAISE EXCEPTION 'Кормление животных может выполнять только сотрудник с должностью "Зоотехник".';
    END IF;

    -- ID животного по кличке
    SELECT "IDЖивотного" INTO v_IDЖивотного
    FROM "Животное"
    WHERE "Кличка" = p_КличкаЖивотного;

    -- корм и количество из рациона животного
    SELECT r."IDКорма", r."Количество"
    INTO v_IDКорма, v_Количество
    FROM "Рацион" r
    JOIN "Животное" j ON r."IDРациона" = j."IDРациона"
    WHERE j."Кличка" = p_КличкаЖивотного;

    -- остаток корма
    SELECT "ОстатокНаСкладе" INTO v_ТекущийОстаток
    FROM "Корм"
    WHERE "IDКорма" = v_IDКорма;

    -- проверка остатка
    IF v_ТекущийОстаток < v_Количество THEN
        RAISE EXCEPTION 'Недостаточно корма на складе.';
    END IF;

    -- уменьшение остатка корма
    UPDATE "Корм"
    SET "ОстатокНаСкладе" = "ОстатокНаСкладе" - v_Количество
    WHERE "IDКорма" = v_IDКорма;

    -- вставка записи кормления
    INSERT INTO "Кормление"(
        "IDКормления",
        "IDЖивотного",
        "IDСотрудника",
        "ДатаИВремя"
    )
    VALUES (
        (SELECT COALESCE(MAX("IDКормления"), 0) + 1 FROM "Кормление"),
        v_IDЖивотного,
        v_IDСотрудника,
        CURRENT_TIMESTAMP
    );

    -- возвращаем результат, как в SELECT из MSSQL
    "Сообщение" := 'Кормление успешно выполнено';
    "Кличка" := p_КличкаЖивотного;
    "СписаноКорма" := v_Количество;
    "ОстатокПослеСписания" := v_ТекущийОстаток - v_Количество;

    RETURN NEXT;
END;
$$;


ALTER FUNCTION public."КормлениеЖивотного"("p_ФИОСотрудника" character varying, "p_КличкаЖивотного" character varying) OWNER TO postgres;

--
-- Name: Медкарта_Дата_fn(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public."Медкарта_Дата_fn"() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
DECLARE
    v_Должность text;
    v_ПоследняяДата date;
BEGIN
    -- добавлять может только зоотехник
    SELECT "Должность" INTO v_Должность
    FROM "Сотрудник"
    WHERE "IDСотрудника" = NEW."IDСотрудника";

    IF v_Должность <> 'Зоотехник' THEN
        RAISE EXCEPTION 'Добавлять записи в медкарту может только зоотехник.';
    END IF;

    -- дата не позже текущей
    IF NEW."ДатаОсмотра" > CURRENT_DATE THEN
        RAISE EXCEPTION 'Дата осмотра не может быть позже текущей даты.';
    END IF;

    -- дата не раньше предыдущего осмотра
    SELECT MAX("ДатаОсмотра") INTO v_ПоследняяДата
    FROM "Медкарта"
    WHERE "IDЖивотного" = NEW."IDЖивотного";

    IF v_ПоследняяДата IS NOT NULL
       AND NEW."ДатаОсмотра" < v_ПоследняяДата THEN
        RAISE EXCEPTION 'Дата осмотра не может быть раньше предыдущего осмотра.';
    END IF;

    RETURN NEW;
END;
$$;


ALTER FUNCTION public."Медкарта_Дата_fn"() OWNER TO postgres;

--
-- Name: Неисправность_NoDelete_Ustraneno_fn(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public."Неисправность_NoDelete_Ustraneno_fn"() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
    -- Запрещаем удаление, если статус был 'Устранено'
    IF OLD."СтатусУстранения" = 'Устранено' THEN
        RAISE EXCEPTION 'Нельзя удалять неисправность со статусом "Устранено".';
    END IF;

    RETURN OLD;
END;
$$;


ALTER FUNCTION public."Неисправность_NoDelete_Ustraneno_fn"() OWNER TO postgres;

--
-- Name: Неисправность_NoUpdate_Ustraneno_fn(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public."Неисправность_NoUpdate_Ustraneno_fn"() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
    -- Если запись уже была "Устранено" — запрещаем любые UPDATE
    IF OLD."СтатусУстранения" = 'Устранено' THEN
        RAISE EXCEPTION 'Нельзя изменять неисправность со статусом "Устранено".';
    END IF;

    RETURN NEW;
END;
$$;


ALTER FUNCTION public."Неисправность_NoUpdate_Ustraneno_fn"() OWNER TO postgres;

--
-- Name: Неисправность_SetDate_fn(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public."Неисправность_SetDate_fn"() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
    -- Если новый статус стал "Устранено"
    IF NEW."СтатусУстранения" = 'Устранено' THEN
        NEW."ДатаРешения" := CURRENT_DATE;
    END IF;

    RETURN NEW;
END;
$$;


ALTER FUNCTION public."Неисправность_SetDate_fn"() OWNER TO postgres;

--
-- Name: Неисправность_StatusChain_fn(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public."Неисправность_StatusChain_fn"() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
    -- Проверяем изменение статуса
    IF NEW."СтатусУстранения" <> OLD."СтатусУстранения" THEN

        -- Зафиксировано -> (Зафиксировано, В процессе)
        IF OLD."СтатусУстранения" = 'Зафиксировано' THEN
            IF NEW."СтатусУстранения" NOT IN ('Зафиксировано', 'В процессе') THEN
                RAISE EXCEPTION 'Нарушен порядок изменения статуса: "Зафиксировано" → "В процессе" → "Устранено".';
            END IF;
        END IF;

        -- В процессе -> (В процессе, Устранено)
        IF OLD."СтатусУстранения" = 'В процессе' THEN
            IF NEW."СтатусУстранения" NOT IN ('В процессе', 'Устранено') THEN
                RAISE EXCEPTION 'Нарушен порядок изменения статуса: "Зафиксировано" → "В процессе" → "Устранено".';
            END IF;
        END IF;

    END IF;

    RETURN NEW;
END;
$$;


ALTER FUNCTION public."Неисправность_StatusChain_fn"() OWNER TO postgres;

--
-- Name: ПереназначитьЖивотныхПриУвольне(integer); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public."ПереназначитьЖивотныхПриУвольне"("p_УволенныйСотрудник" integer) RETURNS integer
    LANGUAGE plpgsql
    AS $$
DECLARE
    v_НовыйСотрудник INT;
BEGIN
    --------------------------------------------------------------------
    -- 1. Находим нового зоотехника:
    --    • статус "Активен"
    --    • не уволенный сотрудник
    --    • минимальное число подопечных животных
    --    • если несколько — первый по ФИО
    --------------------------------------------------------------------
    SELECT s."IDСотрудника"
    INTO v_НовыйСотрудник
    FROM "Сотрудник" s
    WHERE s."Должность" = 'Зоотехник'
      AND s."Статус" = 'Активен'
      AND s."IDСотрудника" <> p_УволенныйСотрудник
    ORDER BY (
        SELECT COUNT(*)
        FROM "Животное" j
        WHERE j."IDСотрудника" = s."IDСотрудника"
    ), s."ФИО"
    LIMIT 1;

    --------------------------------------------------------------------
    -- 2. Переназначаем животных уволенного сотрудника
    --------------------------------------------------------------------
    UPDATE "Животное"
    SET "IDСотрудника" = v_НовыйСотрудник
    WHERE "IDСотрудника" = p_УволенныйСотрудник;

    --------------------------------------------------------------------
    -- 3. Возвращаем нового ответственного сотрудника
    --------------------------------------------------------------------
    RETURN v_НовыйСотрудник;
END;
$$;


ALTER FUNCTION public."ПереназначитьЖивотныхПриУвольне"("p_УволенныйСотрудник" integer) OWNER TO postgres;

--
-- Name: ПоступлениеКорма(integer); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public."ПоступлениеКорма"("p_idЗакупки" integer) RETURNS void
    LANGUAGE plpgsql
    AS $$
BEGIN
    -- проверка, что закупка существует и в статусе "Ожидание"
    IF NOT EXISTS (
        SELECT 1 FROM "Закупка"
        WHERE "IDЗакупки" = p_IDЗакупки
          AND "СтатусПоставки" = 'Ожидание'
    ) THEN
        RAISE EXCEPTION 'Закупка не найдена или уже доставлена.';
    END IF;

    -- транзакция внутри функции в PG не нужна, всё и так атомарно
    -- обновляем статус
    UPDATE "Закупка"
    SET "СтатусПоставки" = 'Доставлено'
    WHERE "IDЗакупки" = p_IDЗакупки;

    -- увеличиваем остаток по всем кормам в закупке
    UPDATE "Корм" k
    SET "ОстатокНаСкладе" = "ОстатокНаСкладе" + sz."Количество"
    FROM "СоставЗакупки" sz
    WHERE sz."IDКорма" = k."IDКорма"
      AND sz."IDЗакупки" = p_IDЗакупки;
END;
$$;


ALTER FUNCTION public."ПоступлениеКорма"("p_idЗакупки" integer) OWNER TO postgres;

--
-- Name: ПроверитьПоследовательностьСтат(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public."ПроверитьПоследовательностьСтат"() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
    -- Если статус не изменяется — пропускаем
    IF NEW."СтатусПоставки" = OLD."СтатусПоставки" THEN
        RETURN NEW;
    END IF;

    -- Разрешённые переходы:
    -- 1) "Заявка отправлена" → "Ожидание"
    -- 2) "Ожидание" → "Доставлено"

    IF OLD."СтатусПоставки" = 'Заявка отправлена'
       AND NEW."СтатусПоставки" = 'Ожидание' THEN
        RETURN NEW;
    END IF;

    IF OLD."СтатусПоставки" = 'Ожидание'
       AND NEW."СтатусПоставки" = 'Доставлено' THEN
        RETURN NEW;
    END IF;

    -- Все остальные переходы запрещены
    RAISE EXCEPTION 'Недопустимый переход статуса: "%" → "%". Разрешены только:  
    "Заявка отправлена" → "Ожидание",  
    "Ожидание" → "Доставлено"',
    OLD."СтатусПоставки", NEW."СтатусПоставки";
END;
$$;


ALTER FUNCTION public."ПроверитьПоследовательностьСтат"() OWNER TO postgres;

--
-- Name: СоздатьЗакупкуСКормом(character varying, character varying, date, character varying, numeric); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public."СоздатьЗакупкуСКормом"("p_ФИОСотрудника" character varying, "p_Поставщик" character varying, "p_ДатаЗаявки" date, "p_НазваниеКорма" character varying, "p_Количество" numeric) RETURNS TABLE("Статус" text, "Сообщение" text, "НомерЗакупки" integer)
    LANGUAGE plpgsql
    AS $$
DECLARE
    v_НомерЗакупки  int;
    v_IDСотрудника  int;
    v_IDКорма       int;
BEGIN
    -- ищем сотрудника
    SELECT "IDСотрудника" INTO v_IDСотрудника
    FROM "Сотрудник"
    WHERE "ФИО" = p_ФИОСотрудника;

    -- ищем корм
    SELECT "IDКорма" INTO v_IDКорма
    FROM "Корм"
    WHERE "Наименование" = p_НазваниеКорма;

    -- новый IDЗакупки
    SELECT COALESCE(MAX("IDЗакупки"), 0) + 1
    INTO v_НомерЗакупки
    FROM "Закупка";

    -- вставка в Закупка
    INSERT INTO "Закупка"(
        "IDЗакупки",
        "IDСотрудника",
        "ДатаЗаявки",
        "Поставщик",
        "СтатусПоставки"
    )
    VALUES (
        v_НомерЗакупки,
        v_IDСотрудника,
        p_ДатаЗаявки,
        p_Поставщик,
        'Заявка отправлена'
    );

    -- вставка в СоставЗакупки
    INSERT INTO "СоставЗакупки"(
        "IDЗакупки",
        "IDКорма",
        "Количество"
    )
    VALUES (
        v_НомерЗакупки,
        v_IDКорма,
        p_Количество
    );

    "Статус" := 'Успех';
    "Сообщение" := 'Закупка создана с кормом: ' || p_НазваниеКорма;
    "НомерЗакупки" := v_НомерЗакупки;

    RETURN NEXT;
END;
$$;


ALTER FUNCTION public."СоздатьЗакупкуСКормом"("p_ФИОСотрудника" character varying, "p_Поставщик" character varying, "p_ДатаЗаявки" date, "p_НазваниеКорма" character varying, "p_Количество" numeric) OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: Животное; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Животное" (
    "IDЖивотного" integer NOT NULL,
    "IDСотрудника" integer NOT NULL,
    "IDРациона" integer NOT NULL,
    "Вид" character varying(30) NOT NULL,
    "Возраст" integer NOT NULL,
    "ДатаПоступления" date NOT NULL,
    "СостояниеЗдоровья" character varying(20) DEFAULT 'Здоров'::character varying NOT NULL,
    "Кличка" character varying(20) NOT NULL,
    "Пол" character(1) NOT NULL,
    CONSTRAINT "Животное_Пол_check" CHECK (("Пол" = ANY (ARRAY['ж'::bpchar, 'м'::bpchar]))),
    CONSTRAINT "Животное_СостояниеЗдоровья_check" CHECK ((("СостояниеЗдоровья")::text = ANY ((ARRAY['Здоров'::character varying, 'Лечится'::character varying, 'Выздоровел'::character varying, 'Умер'::character varying])::text[])))
);


ALTER TABLE public."Животное" OWNER TO postgres;

--
-- Name: Животное_IDЖивотного_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Животное" ALTER COLUMN "IDЖивотного" ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Животное_IDЖивотного_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Закупка; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Закупка" (
    "IDЗакупки" integer NOT NULL,
    "IDСотрудника" integer NOT NULL,
    "ДатаЗаявки" date DEFAULT now() NOT NULL,
    "Поставщик" character varying(50) NOT NULL,
    "СтатусПоставки" character varying(50) DEFAULT 'Заявка принята'::character varying NOT NULL,
    CONSTRAINT "Закупка_СтатусПоставки_check" CHECK ((("СтатусПоставки")::text = ANY ((ARRAY['Заявка отправлена'::character varying, 'Ожидание'::character varying, 'Доставлено'::character varying])::text[])))
);


ALTER TABLE public."Закупка" OWNER TO postgres;

--
-- Name: Корм; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Корм" (
    "IDКорма" integer NOT NULL,
    "Наименование" character varying(50) NOT NULL,
    "Тип" character varying(20) NOT NULL,
    "ЕдиницаИзмерения" character varying(10) NOT NULL,
    "ОстатокНаСкладе" integer NOT NULL,
    CONSTRAINT "Корм_ОстатокНаСкладе_check" CHECK (("ОстатокНаСкладе" >= 0)),
    CONSTRAINT "Корм_Тип_check" CHECK ((("Тип")::text = ANY ((ARRAY['Сухой'::character varying, 'Влажный'::character varying, 'Комбикорм'::character varying])::text[])))
);


ALTER TABLE public."Корм" OWNER TO postgres;

--
-- Name: Кормление; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Кормление" (
    "IDКормления" integer NOT NULL,
    "IDЖивотного" integer NOT NULL,
    "IDСотрудника" integer NOT NULL,
    "ДатаИВремя" timestamp without time zone DEFAULT now() NOT NULL
);


ALTER TABLE public."Кормление" OWNER TO postgres;

--
-- Name: Кормление_IDКормления_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Кормление" ALTER COLUMN "IDКормления" ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Кормление_IDКормления_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Медкарта; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Медкарта" (
    "IDМедкарты" integer NOT NULL,
    "IDСотрудника" integer NOT NULL,
    "IDЖивотного" integer NOT NULL,
    "ДатаОсмотра" date DEFAULT now() NOT NULL,
    "Диагноз" character varying(30),
    "НазначенноеЛечение" character varying(30),
    "Прививки" character varying(30),
    "РезультатПроцедуры" character varying(30) NOT NULL
);


ALTER TABLE public."Медкарта" OWNER TO postgres;

--
-- Name: Медкарта_IDМедкарты_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Медкарта" ALTER COLUMN "IDМедкарты" ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Медкарта_IDМедкарты_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Неисправность; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Неисправность" (
    "IDНеисправности" integer CONSTRAINT "Неисправность_IDНеисправност_not_null" NOT NULL,
    "IDСотрудника" integer NOT NULL,
    "ДатаФиксации" date DEFAULT now() NOT NULL,
    "ОписаниеПроблемы" character varying(100),
    "Место" character varying(20) DEFAULT 'Вольер'::character varying NOT NULL,
    "СтатусУстранения" character varying(20) DEFAULT 'Зафиксировано'::character varying CONSTRAINT "Неисправность_СтатусУстране_not_null" NOT NULL,
    "ДатаРешения" date,
    CONSTRAINT "CHK_ДатаРешения" CHECK ((("ДатаРешения" IS NULL) OR ("ДатаРешения" >= "ДатаФиксации"))),
    CONSTRAINT "Неисправность_Место_check" CHECK ((("Место")::text = ANY ((ARRAY['Вольер'::character varying, 'Участок'::character varying])::text[]))),
    CONSTRAINT "Неисправность_СтатусУстранени_check" CHECK ((("СтатусУстранения")::text = ANY ((ARRAY['Зафиксировано'::character varying, 'В процессе'::character varying, 'Устранено'::character varying])::text[])))
);


ALTER TABLE public."Неисправность" OWNER TO postgres;

--
-- Name: Неисправность_IDНеисправности_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Неисправность" ALTER COLUMN "IDНеисправности" ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Неисправность_IDНеисправности_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Расход; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Расход" (
    "IDРасхода" integer NOT NULL,
    "IDКорма" integer NOT NULL,
    "IDСотрудника" integer NOT NULL,
    "Дата" date DEFAULT now() NOT NULL,
    "Количество" integer NOT NULL,
    CONSTRAINT "Расход_Количество_check" CHECK (("Количество" > 0))
);


ALTER TABLE public."Расход" OWNER TO postgres;

--
-- Name: Рацион; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Рацион" (
    "IDРациона" integer NOT NULL,
    "IDКорма" integer NOT NULL,
    "ВидЖивотного" character varying(30) NOT NULL,
    "Количество" integer NOT NULL,
    "ЧастотаКормления" character varying(20) NOT NULL,
    CONSTRAINT "Рацион_Количество_check" CHECK (("Количество" > 0))
);


ALTER TABLE public."Рацион" OWNER TO postgres;

--
-- Name: Рацион_IDРациона_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Рацион" ALTER COLUMN "IDРациона" ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Рацион_IDРациона_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: СоставЗакупки; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."СоставЗакупки" (
    "IDЗакупки" integer NOT NULL,
    "IDКорма" integer NOT NULL,
    "Количество" integer NOT NULL,
    CONSTRAINT "СоставЗакупки_Количество_check" CHECK (("Количество" > 0))
);


ALTER TABLE public."СоставЗакупки" OWNER TO postgres;

--
-- Name: Сотрудник; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Сотрудник" (
    "IDСотрудника" integer NOT NULL,
    "ФИО" character varying(50) NOT NULL,
    "Должность" character varying(30) NOT NULL,
    "КонтактныеДанные" character varying(50),
    "ГрафикРаботы" character varying(20) NOT NULL,
    "Пароль" character varying(50) DEFAULT '123456'::character varying,
    "Статус" character varying(20) DEFAULT 'Активен'::character varying
);


ALTER TABLE public."Сотрудник" OWNER TO postgres;

--
-- Name: Сотрудник_IDСотрудника_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Сотрудник" ALTER COLUMN "IDСотрудника" ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Сотрудник_IDСотрудника_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: Животное; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Животное" ("IDЖивотного", "IDСотрудника", "IDРациона", "Вид", "Возраст", "ДатаПоступления", "СостояниеЗдоровья", "Кличка", "Пол") FROM stdin;
1	5	1	Зебра	4	2021-03-12	Здоров	Полоска	ж
2	7	2	Корова	6	2020-07-18	Здоров	Бурёнка	ж
3	12	3	Лошадь	8	2019-11-05	Здоров	Ворон	м
5	9	5	Кролик	2	2024-02-14	Здоров	Пушок	м
6	3	6	Черепаха	12	2018-06-30	Здоров	Медляк	м
8	11	8	Тигр	7	2020-05-07	Здоров	Амур	м
10	8	10	Лев	6	2021-10-10	Здоров	Царь	м
11	15	11	Енот	2	2023-06-01	Здоров	Полосун	м
12	13	12	Козёл горный	5	2020-09-23	Здоров	Шерхан	м
13	16	13	Хомяк	1	2024-04-12	Здоров	Семка	м
14	10	14	Попугай	3	2022-10-15	Здоров	Перышко	ж
15	17	15	Верблюд	9	2019-04-03	Здоров	Сахар	м
16	18	16	Лось	7	2021-12-21	Здоров	Мощь	м
17	2	17	Свина	4	2023-02-10	Здоров	Хрюша	ж
18	19	18	Коза	5	2022-03-14	Здоров	Белка	ж
19	20	19	Овца	3	2023-05-05	Здоров	Кудря	ж
20	21	20	Дамский олень	6	2020-11-29	Здоров	Грация	ж
21	22	21	Рысь	4	2021-08-08	Лечится	Огонёк	м
22	23	22	Обезьяна	5	2020-02-17	Здоров	Бонго	м
23	24	23	Фазан	2	2024-01-25	Здоров	Перо	м
24	25	24	Шимпанзе	6	2022-04-11	Здоров	Чип	м
25	26	25	Тюлень	8	2019-07-07	Здоров	Булка	ж
26	27	26	Як	7	2020-06-20	Здоров	Горец	м
27	2	27	Буйвол	9	2019-02-14	Здоров	Тяжёлый	м
28	3	28	Сурок	3	2023-07-19	Здоров	Шустрик	м
30	5	30	Гепард	4	2021-09-14	Здоров	Спот	м
32	7	2	Корова	5	2022-01-01	Здоров	Милка	ж
33	8	3	Лошадь	6	2020-04-22	Лечится	Буян	м
34	9	4	Козёл	4	2021-11-11	Здоров	Тор	м
35	10	5	Кролик	2	2024-02-28	Здоров	Крош	м
36	11	6	Черепаха	10	2018-05-17	Здоров	Снежок	ж
37	12	7	Курица	1	2024-03-10	Здоров	Пеструшка	ж
38	13	8	Тигр	9	2019-10-20	Умер	Барс	м
40	15	10	Лев	7	2020-09-03	Здоров	Симба	м
41	16	11	Енот	3	2023-06-14	Здоров	Бандит	м
42	17	12	Козёл горный	5	2021-01-07	Здоров	Горный	м
43	18	13	Хомяк	1	2024-03-19	Здоров	Плюш	м
44	19	14	Попугай	4	2022-10-03	Здоров	Голос	м
45	20	15	Верблюд	8	2019-09-28	Лечится	Султан	м
46	21	16	Лось	10	2019-08-18	Здоров	Север	м
47	22	17	Свина	3	2023-03-22	Здоров	Розочка	ж
48	23	18	Коза	4	2022-02-11	Здоров	Белянка	ж
49	24	19	Овца	3	2023-04-04	Здоров	Мягкая	ж
50	25	20	Дамский олень	5	2020-12-12	Здоров	Лирика	ж
51	27	8	Тигр	10	2025-11-26	Здоров	Тигран	м
7	28	7	Курица	1	2024-03-01	Здоров	Клюква	ж
31	28	1	Зебра	7	2019-03-03	Выздоровел	Злата	ж
9	26	9	Пингвин	3	2022-08-19	Здоров	Ледок	м
39	26	9	Пингвин	4	2021-07-05	Здоров	Флип	м
4	32	4	Козёл	5	2023-01-22	Лечится	Рогач	м
29	32	29	Лама	5	2022-12-01	Здоров	Алпа	ж
53	8	6	Черепаха	4	2025-12-01	Здоров	Череп	м
55	26	31	Белый медведь	3	2025-12-01	Здоров	Мишутка	м
\.


--
-- Data for Name: Закупка; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Закупка" ("IDЗакупки", "IDСотрудника", "ДатаЗаявки", "Поставщик", "СтатусПоставки") FROM stdin;
1	4	2024-01-05	Зоотовары-МСК	Заявка отправлена
2	7	2024-01-06	СкладКормов №1	Ожидание
3	10	2024-01-07	EcoFeed	Доставлено
4	13	2024-01-08	АгроТрейд	Ожидание
5	16	2024-01-09	КормаПРО	Заявка отправлена
6	20	2024-01-10	GreenFarms	Доставлено
7	24	2024-01-11	Зверобой	Ожидание
8	4	2024-01-12	Зоотовары-МСК	Доставлено
9	7	2024-01-13	КормМаркет	Ожидание
10	10	2024-01-14	EcoFeed	Доставлено
11	13	2024-01-15	СкладКормов №1	Заявка отправлена
12	16	2024-01-16	АгроТрейд	Доставлено
13	20	2024-01-17	GreenFarms	Ожидание
14	24	2024-01-18	Зверобой	Доставлено
15	4	2024-01-19	КормаПРО	Заявка отправлена
16	7	2024-01-20	EcoFeed	Ожидание
17	10	2024-01-21	КормМаркет	Доставлено
18	13	2024-01-22	Зоотовары-МСК	Заявка отправлена
19	16	2024-01-23	АгроТрейд	Ожидание
20	20	2024-01-24	СкладКормов №1	Доставлено
21	24	2024-01-25	GreenFarms	Заявка отправлена
22	4	2024-01-26	КормаПРО	Доставлено
23	7	2024-01-27	Зверобой	Ожидание
24	10	2024-01-28	EcoFeed	Доставлено
25	13	2024-01-29	КормМаркет	Заявка отправлена
26	16	2024-01-30	АгроТрейд	Доставлено
27	20	2024-01-31	GreenFarms	Ожидание
28	24	2024-02-01	Зоотовары-МСК	Доставлено
29	4	2024-02-02	СкладКормов №1	Заявка отправлена
30	7	2024-02-03	КормаПРО	Ожидание
31	10	2024-02-04	EcoFeed	Доставлено
32	13	2024-02-05	Зверобой	Заявка отправлена
33	16	2024-02-06	КормМаркет	Доставлено
34	20	2024-02-07	АгроТрейд	Ожидание
35	24	2024-02-08	GreenFarms	Доставлено
36	4	2024-02-09	Зоотовары-МСК	Ожидание
37	7	2024-02-10	СкладКормов №1	Заявка отправлена
38	10	2024-02-11	КормаПРО	Доставлено
39	13	2024-02-12	EcoFeed	Ожидание
40	16	2024-02-13	АгроТрейд	Доставлено
41	20	2024-02-14	КормМаркет	Заявка отправлена
42	24	2024-02-15	GreenFarms	Ожидание
43	4	2024-02-16	Зверобой	Доставлено
44	7	2024-02-17	СкладКормов №1	Ожидание
45	10	2024-02-18	Зоотовары-МСК	Доставлено
46	13	2024-02-19	EcoFeed	Заявка отправлена
47	16	2024-02-20	АгроТрейд	Ожидание
48	20	2024-02-21	Зверобой	Доставлено
49	24	2024-02-22	КормаПРО	Ожидание
50	4	2024-02-23	GreenFarms	Доставлено
51	7	2024-02-24	Зоотовары-МСК	Заявка отправлена
52	10	2024-02-25	EcoFeed	Ожидание
53	13	2024-02-26	КормаПРО	Доставлено
54	16	2024-02-27	Зверобой	Заявка отправлена
55	20	2024-02-28	GreenFarms	Ожидание
56	24	2024-02-29	СкладКормов №1	Доставлено
57	4	2024-03-01	АгроТрейд	Ожидание
58	7	2024-03-02	EcoFeed	Доставлено
59	10	2024-03-03	КормМаркет	Заявка отправлена
60	13	2024-03-04	Зоотовары-МСК	Ожидание
61	16	2024-03-05	КормаПРО	Доставлено
62	20	2024-03-06	GreenFarms	Заявка отправлена
63	24	2024-03-07	СкладКормов №1	Доставлено
64	4	2024-03-08	EcoFeed	Ожидание
65	7	2024-03-09	Зверобой	Доставлено
66	10	2024-03-10	АгроТрейд	Заявка отправлена
67	13	2024-03-11	КормМаркет	Ожидание
68	16	2024-03-12	EcoFeed	Доставлено
69	20	2024-03-13	Зоотовары-МСК	Заявка отправлена
70	24	2024-03-14	КормаПРО	Ожидание
71	4	2024-03-15	GreenFarms	Доставлено
72	7	2024-03-16	СкладКормов №1	Заявка отправлена
73	10	2024-03-17	АгроТрейд	Ожидание
74	13	2024-03-18	EcoFeed	Доставлено
75	16	2024-03-19	КормМаркет	Ожидание
76	20	2024-03-20	Зверобой	Доставлено
77	24	2024-03-21	Зоотовары-МСК	Заявка отправлена
78	4	2024-03-22	GreenFarms	Ожидание
79	7	2024-03-23	АгроТрейд	Доставлено
80	10	2024-03-24	СкладКормов №1	Ожидание
81	13	2024-03-25	EcoFeed	Доставлено
83	20	2024-03-27	КормМаркет	Ожидание
84	24	2024-03-28	GreenFarms	Доставлено
85	4	2024-03-29	Зверобой	Ожидание
86	7	2024-03-30	Зоотовары-МСК	Доставлено
87	10	2024-03-31	EcoFeed	Ожидание
88	13	2024-04-01	АгроТрейд	Заявка отправлена
89	16	2024-04-02	СкладКормов №1	Доставлено
90	20	2024-04-03	КормаПРО	Ожидание
91	24	2024-04-04	GreenFarms	Доставлено
92	4	2024-04-05	EcoFeed	Заявка отправлена
93	7	2024-04-06	АгроТрейд	Ожидание
94	10	2024-04-07	Зоотовары-МСК	Доставлено
95	13	2024-04-08	КормМаркет	Ожидание
96	16	2024-04-09	СкладКормов №1	Доставлено
98	24	2024-04-11	КормМаркет	Ожидание
99	4	2024-04-12	EcoFeed	Доставлено
100	7	2024-04-13	Зверобой	Ожидание
102	1	2025-11-30	ZooEda	Доставлено
97	20	2024-04-10	GreenFarms	Доставлено
101	1	2025-11-30	ZooEda	Доставлено
103	5	2025-12-01	Зоомагазин№1	Заявка отправлена
82	16	2024-03-26	КормаПРО	Ожидание
104	5	2025-12-01	Зверобой	Ожидание
105	1	2025-12-01	ZooEda	Доставлено
106	1	2025-12-01	Feedzoo	Доставлено
\.


--
-- Data for Name: Корм; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Корм" ("IDКорма", "Наименование", "Тип", "ЕдиницаИзмерения", "ОстатокНаСкладе") FROM stdin;
2	Комбикорм универсальный	Комбикорм	кг	180
3	Овёс дроблёный	Сухой	кг	150
4	Пшеница кормовая	Сухой	кг	200
5	Морковь свежая	Влажный	кг	95
7	Комбикорм для птиц	Комбикорм	кг	120
10	Мясо говяжье	Влажный	кг	55
11	Фрукты ассорти	Влажный	кг	40
12	Сухие гранулы для копытных	Сухой	кг	130
13	Комбикорм для грызунов	Комбикорм	кг	90
15	Корнеплоды кормовые	Влажный	кг	110
17	Кормовая свёкла	Влажный	кг	70
18	Комбикорм для коз	Комбикорм	кг	100
19	Комбикорм для овец	Комбикорм	кг	90
21	Филе куриное	Влажный	кг	50
22	Фрукты тропические	Влажный	кг	30
24	Комбикорм для приматов	Комбикорм	кг	85
26	Сено тёмное прессованное	Сухой	кг	220
27	Кукуруза дроблёная	Сухой	кг	180
29	Овощной микс	Влажный	кг	90
30	Комбикорм энергетический	Комбикорм	кг	150
1	Сено луговое	Сухой	кг	270
14	Зерносмесь премиум	Сухой	кг	260
9	Рыба мороженая	Влажный	кг	90
23	Сухой корм для птиц	Сухой	кг	380
8	Комбикорм для хищников	Комбикорм	кг	160
16	Травяная мука	Сухой	кг	280
20	Гранулы зоовит	Сухой	кг	275
25	Рыбное филе	Влажный	кг	1
6	Капуста белокочанная	Влажный	кг	110
28	Комбикорм для сурков	Комбикорм	кг	47
31	Гранулы ЗООфит	Сухой	кг	100
\.


--
-- Data for Name: Кормление; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Кормление" ("IDКормления", "IDЖивотного", "IDСотрудника", "ДатаИВремя") FROM stdin;
1	1	3	2024-01-05 08:14:00
2	2	6	2024-01-05 09:02:00
3	3	8	2024-01-05 10:25:00
4	4	9	2024-01-06 08:57:00
5	5	11	2024-01-06 09:41:00
6	6	12	2024-01-06 10:32:00
7	7	14	2024-01-07 08:03:00
8	8	15	2024-01-07 09:27:00
9	9	17	2024-01-07 10:11:00
10	10	18	2024-01-08 08:44:00
11	11	19	2024-01-08 09:50:00
12	12	21	2024-01-08 10:33:00
13	13	23	2024-01-09 08:15:00
14	14	25	2024-01-09 09:59:00
15	15	26	2024-01-09 11:07:00
16	16	27	2024-01-10 08:17:00
17	17	3	2024-01-10 09:40:00
18	18	6	2024-01-10 10:23:00
19	19	8	2024-01-11 08:58:00
20	20	9	2024-01-11 09:33:00
21	21	11	2024-01-11 10:49:00
22	22	12	2024-01-12 08:25:00
23	23	14	2024-01-12 09:44:00
24	24	15	2024-01-12 10:38:00
25	25	17	2024-01-13 08:19:00
26	26	18	2024-01-13 09:55:00
27	27	19	2024-01-13 10:27:00
28	28	21	2024-01-14 08:31:00
29	29	23	2024-01-14 09:45:00
30	30	25	2024-01-14 10:56:00
31	31	26	2024-01-15 08:10:00
32	32	27	2024-01-15 09:20:00
33	33	3	2024-01-15 10:34:00
34	34	6	2024-01-16 08:42:00
35	35	8	2024-01-16 09:58:00
36	36	9	2024-01-16 10:47:00
37	37	11	2024-01-17 08:06:00
38	38	12	2024-01-17 09:29:00
39	39	14	2024-01-17 10:15:00
40	40	15	2024-01-18 08:51:00
41	41	17	2024-01-18 09:33:00
42	42	18	2024-01-18 10:12:00
43	43	19	2024-01-19 08:28:00
44	44	21	2024-01-19 09:57:00
45	45	23	2024-01-19 10:41:00
46	46	25	2024-01-20 08:39:00
47	47	26	2024-01-20 09:13:00
48	48	27	2024-01-20 10:18:00
49	49	3	2024-01-21 08:07:00
50	50	6	2024-01-21 09:55:00
51	1	8	2024-01-22 08:14:00
52	2	9	2024-01-22 09:07:00
53	3	11	2024-01-22 10:16:00
54	4	12	2024-01-23 08:33:00
55	5	14	2024-01-23 09:22:00
56	6	15	2024-01-23 10:41:00
57	7	17	2024-01-24 08:18:00
58	8	18	2024-01-24 09:52:00
59	9	19	2024-01-24 10:37:00
60	10	21	2024-01-25 08:11:00
61	11	23	2024-01-25 09:33:00
62	12	25	2024-01-25 10:48:00
63	13	26	2024-01-26 08:22:00
64	14	27	2024-01-26 09:29:00
65	15	3	2024-01-26 10:10:00
66	16	6	2024-01-27 08:47:00
67	17	8	2024-01-27 09:54:00
68	18	9	2024-01-27 10:35:00
69	19	11	2024-01-28 08:16:00
70	20	12	2024-01-28 09:42:00
71	21	14	2024-01-28 10:21:00
72	22	15	2024-01-29 08:33:00
73	23	17	2024-01-29 09:17:00
74	24	18	2024-01-29 10:44:00
75	25	19	2024-01-30 08:28:00
76	26	21	2024-01-30 09:30:00
77	27	23	2024-01-30 10:12:00
78	28	25	2024-01-31 08:13:00
79	29	26	2024-01-31 09:29:00
80	30	27	2024-01-31 10:52:00
81	31	3	2024-02-01 08:11:00
82	32	6	2024-02-01 09:16:00
83	33	8	2024-02-01 10:24:00
84	34	9	2024-02-02 08:37:00
85	35	11	2024-02-02 09:44:00
86	36	12	2024-02-02 10:36:00
87	37	14	2024-02-03 08:03:00
88	38	15	2024-02-03 09:27:00
89	39	17	2024-02-03 10:15:00
90	40	18	2024-02-04 08:56:00
91	41	19	2024-02-04 09:50:00
92	42	21	2024-02-04 10:43:00
93	43	23	2024-02-05 08:49:00
94	44	25	2024-02-05 09:38:00
95	45	26	2024-02-05 10:29:00
96	46	27	2024-02-06 08:32:00
97	47	3	2024-02-06 09:41:00
98	48	6	2024-02-06 10:54:00
99	49	8	2024-02-07 08:20:00
100	50	9	2024-02-07 09:55:00
101	28	3	2025-11-29 14:00:53.647222
102	6	3	2025-11-29 14:02:02.468628
103	20	21	2025-11-30 17:41:43.983301
104	20	21	2025-11-30 17:42:03.047325
105	20	21	2025-11-30 17:42:04.574589
106	20	21	2025-11-30 17:42:05.943348
107	20	21	2025-11-30 17:42:07.447519
108	20	21	2025-11-30 17:42:09.226314
109	20	21	2025-11-30 17:42:10.52019
110	20	21	2025-11-30 17:42:11.986309
111	20	21	2025-11-30 17:42:13.21093
112	20	21	2025-11-30 17:42:14.728023
113	20	21	2025-11-30 17:42:25.006834
114	20	21	2025-11-30 17:42:26.712216
115	11	15	2025-11-30 17:45:43.65493
116	11	15	2025-11-30 17:45:46.029247
117	11	15	2025-11-30 17:45:47.190225
118	11	15	2025-11-30 17:45:48.787234
119	11	15	2025-11-30 17:45:49.942445
120	11	15	2025-11-30 17:46:04.874345
121	11	15	2025-11-30 17:46:06.12684
122	11	15	2025-11-30 17:46:07.751929
123	11	15	2025-11-30 17:46:09.045605
124	11	15	2025-11-30 17:46:10.496348
125	11	15	2025-11-30 17:46:11.559581
126	11	15	2025-11-30 17:46:13.660321
127	11	15	2025-11-30 17:46:14.821937
128	11	15	2025-11-30 17:46:16.514531
129	11	15	2025-11-30 17:46:17.593507
130	11	15	2025-11-30 17:46:18.561048
131	11	15	2025-11-30 17:46:19.867907
132	11	15	2025-11-30 17:46:21.909133
133	11	15	2025-11-30 17:46:23.060296
134	11	15	2025-11-30 17:46:25.173885
135	11	15	2025-11-30 17:46:26.708346
136	11	15	2025-11-30 17:46:27.958339
137	11	15	2025-11-30 17:46:29.757899
138	11	15	2025-11-30 17:46:31.261456
139	11	15	2025-11-30 17:46:32.656009
140	11	15	2025-11-30 17:46:34.032731
141	11	15	2025-11-30 17:46:35.309148
142	11	15	2025-11-30 17:46:36.415191
143	11	15	2025-11-30 17:46:37.503586
144	11	15	2025-11-30 17:46:39.657469
145	11	15	2025-11-30 17:46:41.456623
146	11	15	2025-11-30 17:46:42.869829
147	11	15	2025-11-30 17:46:44.808535
148	11	15	2025-11-30 17:46:46.355131
149	11	15	2025-11-30 17:46:47.900637
150	11	15	2025-11-30 17:46:49.480792
151	11	15	2025-11-30 17:46:51.006903
152	11	15	2025-11-30 17:46:52.17364
153	11	15	2025-11-30 17:46:58.829684
154	11	15	2025-11-30 17:46:59.908309
155	11	15	2025-11-30 17:47:01.106801
156	11	15	2025-11-30 17:47:03.007396
157	11	15	2025-11-30 17:47:04.675737
158	25	26	2025-11-30 17:56:11.161705
159	25	26	2025-11-30 17:56:13.899543
160	25	26	2025-11-30 17:56:27.612953
161	25	26	2025-11-30 17:56:29.047491
162	25	26	2025-11-30 17:56:30.232768
163	25	26	2025-11-30 17:56:31.339274
164	25	26	2025-11-30 17:56:32.471006
165	25	26	2025-11-30 17:56:34.175453
166	25	26	2025-11-30 17:56:36.548946
167	25	26	2025-11-30 17:56:37.833761
168	25	26	2025-11-30 17:56:40.548184
169	28	3	2025-11-30 18:40:02.857219
170	6	3	2025-11-30 19:17:11.834335
171	28	3	2025-12-01 20:17:25.37261
172	28	3	2025-12-01 20:20:10.9892
\.


--
-- Data for Name: Медкарта; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Медкарта" ("IDМедкарты", "IDСотрудника", "IDЖивотного", "ДатаОсмотра", "Диагноз", "НазначенноеЛечение", "Прививки", "РезультатПроцедуры") FROM stdin;
1	3	1	2024-01-14	Паразиты	Дегельминтизация	Вакцина D1	Улучшение
2	6	2	2024-02-03	Повреждение лапы	Обработка раны	Нет	Стабильно
3	8	3	2024-02-11	Простуда	Антибиотики	Вакцина FLU	Улучшение
4	11	4	2024-03-05	Нет патологий	\N	Вакцина D2	Здоров
5	12	5	2024-03-19	Расстройство ЖКТ	Диета	Нет	Улучшение
6	14	6	2024-01-22	Обезвоживание	Регидратация	Нет	Стабильно
7	15	7	2024-04-01	Нет патологий	\N	Вакцина F1	Здоров
8	17	8	2024-04-10	Травма хвоста	Обработка	Нет	Стабильно
9	18	9	2024-04-18	Простуда	Противовирусные	Вакцина FLU	Улучшение
10	19	10	2024-05-07	Потеря аппетита	Витамины	Нет	Улучшение
11	21	11	2024-02-12	Нет патологий	\N	Вакцина D1	Здоров
12	23	12	2024-03-28	Повреждение кожи	Антисептики	Нет	Стабильно
13	25	13	2024-01-29	Простуда	Антибиотики	FLU	Улучшение
14	26	14	2024-02-14	Аллергия	Антигистаминные	Нет	Стабильно
15	27	15	2024-02-26	Нет патологий	\N	D2	Здоров
16	3	16	2024-03-03	Ранение	Швы	Нет	Улучшение
17	6	17	2024-03-21	Глисты	Дегельминтизация	Нет	Улучшение
18	8	18	2024-04-02	Нет патологий	\N	F2	Здоров
19	9	19	2024-04-15	Лишай	Мазь	Нет	Стабильно
20	11	20	2024-05-03	Ушиб	Покой	Нет	Улучшение
21	12	21	2024-01-17	Нет патологий	\N	D1	Здоров
22	14	22	2024-02-27	Проблемы со зрением	Капли	Нет	Стабильно
23	15	23	2024-03-08	Простуда	Антибиотики	FLU	Улучшение
24	17	24	2024-03-29	Травма лапы	Шина	Нет	Стабильно
25	18	25	2024-04-04	Нет патологий	\N	D2	Здоров
26	19	26	2024-01-19	Паразиты	Дегельминтизация	Нет	Улучшение
27	21	27	2024-02-01	Нет патологий	\N	D1	Здоров
28	23	28	2024-02-22	Простуда	Ингаляции	FLU	Улучшение
29	25	29	2024-03-03	Рана на коже	Антисептики	Нет	Стабильно
30	26	30	2024-03-17	Обезвоживание	Регидратация	Нет	Улучшение
31	27	31	2024-03-25	Нет патологий	\N	D2	Здоров
32	3	32	2024-04-02	Лишай	Мазь	Нет	Стабильно
33	6	33	2024-04-14	Проблемы с дыханием	Противовирусные	Нет	Улучшение
34	8	34	2024-04-27	Повреждение лапы	Обработка	Нет	Стабильно
35	9	35	2024-05-06	Нет патологий	\N	F1	Здоров
36	11	36	2024-01-28	Аллергия	Антигистаминные	Нет	Улучшение
37	12	37	2024-02-06	Ушиб	Покой	Нет	Стабильно
38	14	38	2024-02-20	Простуда	Антибиотики	FLU	Улучшение
39	15	39	2024-03-11	Нет патологий	\N	D1	Здоров
40	17	40	2024-03-28	Проблемы с ЖКТ	Диета	Нет	Улучшение
41	18	41	2024-04-08	Паразиты	Дегельминтизация	Нет	Улучшение
42	19	42	2024-04-21	Нет патологий	\N	D2	Здоров
43	21	43	2024-05-03	Гнойное воспаление	Антибиотики	Нет	Стабильно
44	23	44	2024-05-14	Травма спины	Покой	Нет	Улучшение
45	25	45	2024-01-16	Нет патологий	\N	F2	Здоров
46	26	46	2024-01-27	Перелом лапы	Иммобилизация	Нет	Стабильно
47	27	47	2024-02-05	Простуда	Противовирусные	FLU	Улучшение
48	3	48	2024-02-19	Нет патологий	\N	D1	Здоров
49	6	49	2024-03-01	Аллергия	Антигистаминные	Нет	Стабильно
50	8	50	2024-03-15	Рана на ухе	Обработка	Нет	Улучшение
51	3	1	2024-02-10	Простуда	Антибиотики	FLU	Улучшение
52	6	2	2024-03-01	Аллергия	Антигистаминные	\N	Стабильно
53	8	3	2024-03-20	Нет патологий	\N	D2	Здоров
54	9	4	2024-04-01	Проблемы с дыханием	Ингаляции	\N	Улучшение
55	11	5	2024-04-10	Травма лапы	Обработка	\N	Стабильно
56	12	6	2024-02-10	Глисты	Дегельминтизация	\N	Улучшение
57	14	7	2024-04-20	Нет патологий	\N	F2	Здоров
58	15	8	2024-04-25	Ушиб	Покой	\N	Стабильно
59	17	9	2024-05-01	Расстройство ЖКТ	Диета	\N	Улучшение
60	18	10	2024-05-14	Нет патологий	\N	D3	Здоров
61	19	11	2024-03-01	Простуда	Антибиотики	\N	Улучшение
62	21	12	2024-04-05	Ушиб	Покой	\N	Стабильно
63	23	13	2024-02-20	Глисты	Дегельминтизация	\N	Улучшение
64	25	14	2024-03-01	Нет патологий	\N	D2	Здоров
65	26	15	2024-03-20	Лишай	Мазь	\N	Улучшение
66	27	16	2024-03-20	Простуда	Ингаляции	\N	Улучшение
67	3	17	2024-04-02	Нет патологий	\N	D2	Здоров
68	6	18	2024-04-15	Паразиты	Дегельминтизация	\N	Улучшение
69	8	19	2024-05-01	Ушиб хвоста	Обработка	\N	Стабильно
70	9	20	2024-05-15	Нет патологий	\N	F1	Здоров
71	11	21	2024-02-10	Аллергия	Антигистаминные	\N	Стабильно
72	12	22	2024-03-05	Обезвоживание	Регидратация	\N	Улучшение
73	14	23	2024-03-20	Нет патологий	\N	F2	Здоров
74	15	24	2024-04-10	Рана	Антисептики	\N	Стабильно
75	17	25	2024-05-01	Травма лапы	Шина	\N	Улучшение
76	18	26	2024-02-20	Паразиты	Дегельминтизация	\N	Улучшение
77	19	27	2024-02-20	Ушиб	Покой	\N	Стабильно
78	21	28	2024-03-10	Простуда	Антибиотики	\N	Улучшение
79	23	29	2024-03-20	Нет патологий	\N	D1	Здоров
80	25	30	2024-03-25	Аллергия	Антигистаминные	\N	Улучшение
81	26	31	2024-04-05	Обезвоживание	Регидратация	\N	Улучшение
82	27	32	2024-04-15	Нет патологий	\N	F1	Здоров
83	3	33	2024-04-20	Повреждение кожи	Обработка	\N	Стабильно
84	6	34	2024-05-01	Нет патологий	\N	D2	Здоров
85	8	35	2024-05-10	Простуда	Антибиотики	\N	Улучшение
86	9	36	2024-02-05	Травма	Покой	\N	Стабильно
87	11	37	2024-02-20	Нет патологий	\N	F2	Здоров
88	12	38	2024-03-05	Лишай	Мазь	\N	Улучшение
89	14	39	2024-03-20	Паразиты	Дегельминтизация	\N	Улучшение
90	15	40	2024-04-05	Нет патологий	\N	D1	Здоров
91	17	41	2024-04-20	Простуда	Ингаляции	\N	Улучшение
92	18	42	2024-05-01	Травма лапы	Шина	\N	Стабильно
93	19	43	2024-05-10	Нет патологий	\N	F2	Здоров
94	21	44	2024-05-20	Ушиб	Покой	\N	Улучшение
95	23	45	2024-02-01	Глисты	Дегельминтизация	\N	Улучшение
96	25	46	2024-02-10	Нет патологий	\N	D3	Здоров
97	26	47	2024-02-20	Паразиты	Дегельминтизация	\N	Улучшение
98	27	48	2024-03-01	Ушиб головы	Покой	\N	Стабильно
99	3	49	2024-03-10	Обезвоживание	Регидратация	\N	Улучшение
100	6	50	2024-03-25	Нет патологий	\N	D1	Здоров
101	27	51	2025-11-26	Здоров	\N	\N	Первичный осмотр
102	3	1	2025-11-26	Травма связки 	подорожник	\N	стабильно
103	3	1	2025-11-26	Травма связки	Подорожник	\N	Улучшение
104	8	53	2025-12-01	Здоров	\N	\N	Первичный осмотр
105	26	55	2025-12-01	Здоров	\N	\N	Первичный осмотр
106	3	1	2025-12-01	\N	\N	\N	Успешно
107	3	1	2025-12-01	\N	\N	\N	Стабильно
108	3	1	2025-12-01	Нет	\N	\N	Успешно
109	3	1	2025-12-01	Нет	\N	\N	Осмотрено
\.


--
-- Data for Name: Неисправность; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Неисправность" ("IDНеисправности", "IDСотрудника", "ДатаФиксации", "ОписаниеПроблемы", "Место", "СтатусУстранения", "ДатаРешения") FROM stdin;
1	4	2024-01-05	Поломка замка на воротах	Вольер	Устранено	2024-01-06
2	7	2024-01-06	Течь поилки	Участок	Устранено	2024-01-07
3	3	2024-01-06	Ослаблен забор	Вольер	В процессе	\N
4	12	2024-01-07	Не работает освещение	Участок	Устранено	2024-01-08
5	11	2024-01-07	Разрыв сетки	Вольер	Зафиксировано	\N
6	9	2024-01-08	Засор в кормушке	Участок	Устранено	2024-01-09
7	14	2024-01-09	Повреждение пола	Вольер	В процессе	\N
8	15	2024-01-10	Неисправность лампы	Участок	Устранено	2024-01-11
9	17	2024-01-10	Сломан замок	Вольер	Устранено	2024-01-11
10	26	2024-01-11	Повреждение ограждения	Участок	Зафиксировано	\N
11	25	2024-01-11	Протечка трубы	Вольер	В процессе	\N
12	21	2024-01-12	Трещина в стекле	Участок	Устранено	2024-01-13
13	23	2024-01-12	Нестабильное крепление сетки	Вольер	Устранено	2024-01-13
14	18	2024-01-13	Не работает вентиляция	Участок	Зафиксировано	\N
15	19	2024-01-14	Сломана кормушка	Вольер	Устранено	2024-01-15
16	6	2024-01-14	Сбой электронного замка	Участок	В процессе	\N
17	3	2024-01-15	Разрыв сетки	Вольер	Устранено	2024-01-16
18	9	2024-01-16	Поломка перегородки	Вольер	Устранено	2024-01-17
19	8	2024-01-16	Не работает насос	Участок	Зафиксировано	\N
20	12	2024-01-17	Повреждена поилка	Вольер	В процессе	\N
21	11	2024-01-17	Разрыв сетки	Участок	Устранено	2024-01-18
22	14	2024-01-18	Неисправность датчика	Вольер	Устранено	2024-01-19
23	17	2024-01-18	Засор водоотвода	Участок	Зафиксировано	\N
24	15	2024-01-19	Сломана дверь	Вольер	Устранено	2024-01-20
25	26	2024-01-19	Не работает замок	Участок	Устранено	2024-01-20
26	3	2024-01-20	Повреждение пола	Вольер	В процессе	\N
27	6	2024-01-20	Разбит термометр	Участок	Устранено	2024-01-21
28	8	2024-01-21	Сломана защёлка	Вольер	Устранено	2024-01-22
29	9	2024-01-21	Неполадки с насосом	Участок	В процессе	\N
30	11	2024-01-22	Поломка лампы	Вольер	Зафиксировано	\N
31	12	2024-01-22	Поврежден поликарбонат	Участок	Устранено	2024-01-23
32	14	2024-01-23	Сломан вентилятор	Вольер	Устранено	2024-01-24
35	19	2024-01-24	Поломка кормушки	Участок	Устранено	2024-01-25
36	21	2024-01-25	Поврежден замок	Вольер	Устранено	2024-01-26
37	23	2024-01-25	Отслоение покрытия пола	Участок	Устранено	2024-01-26
39	26	2024-01-26	Не работает подсветка	Участок	Устранено	2024-01-27
40	27	2024-01-27	Заедает механизм двери	Вольер	Устранено	2024-01-28
43	8	2024-01-28	Поломка вентиляции	Участок	Устранено	2024-01-29
44	9	2024-01-29	Коррозия креплений	Вольер	Устранено	2024-01-30
46	12	2024-01-30	Сломан шланг поилки	Вольер	Устранено	2024-01-31
47	14	2024-01-30	Ржавчина на сетке	Участок	Устранено	2024-01-31
49	18	2024-01-31	Повреждение поворотного механизма	Участок	Устранено	2024-02-01
50	19	2024-02-01	Трещина в ограждении	Вольер	Устранено	2024-02-02
34	18	2024-01-24	Деформация сетки клетки	Вольер	Устранено	2025-12-01
48	17	2024-01-31	Течь трубы	Вольер	Устранено	2025-11-29
45	11	2024-01-29	Засор трубопровода	Участок	Устранено	2025-11-30
42	6	2024-01-28	Повреждение сетки	Вольер	Устранено	2025-11-30
41	3	2024-01-27	Сбой температурного датчика	Участок	Устранено	2025-12-01
38	25	2024-01-26	Разрыв сетки	Вольер	Устранено	2025-12-01
33	17	2024-01-23	Сбой системы освещения	Участок	В процессе	\N
51	1	2025-12-01	Протекает труба	Вольер	Устранено	2025-12-01
\.


--
-- Data for Name: Расход; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Расход" ("IDРасхода", "IDКорма", "IDСотрудника", "Дата", "Количество") FROM stdin;
1	3	3	2024-01-05	5
2	7	6	2024-01-06	4
3	12	8	2024-01-06	7
4	5	9	2024-01-07	3
5	1	11	2024-01-07	6
6	14	12	2024-01-08	8
7	9	14	2024-01-08	5
8	10	15	2024-01-09	4
9	18	17	2024-01-10	7
10	22	18	2024-01-10	6
11	27	19	2024-01-11	3
12	15	21	2024-01-11	10
13	6	23	2024-01-12	4
14	13	25	2024-01-12	5
15	20	26	2024-01-13	8
16	30	27	2024-01-13	6
17	2	3	2024-01-14	11
18	4	6	2024-01-14	5
19	19	8	2024-01-15	6
20	8	9	2024-01-15	7
21	21	11	2024-01-16	5
22	16	12	2024-01-16	4
23	23	14	2024-01-17	12
24	11	15	2024-01-18	6
25	17	17	2024-01-18	3
26	24	18	2024-01-19	7
27	29	19	2024-01-19	5
28	7	21	2024-01-20	10
29	25	23	2024-01-20	6
30	14	25	2024-01-21	8
31	3	26	2024-01-21	4
32	28	27	2024-01-21	9
33	1	3	2024-01-22	5
34	12	6	2024-01-22	3
35	5	8	2024-01-23	7
36	9	9	2024-01-23	4
37	18	11	2024-01-24	6
38	10	12	2024-01-24	5
39	22	14	2024-01-25	8
40	27	15	2024-01-25	4
41	16	17	2024-01-26	9
42	23	18	2024-01-26	6
43	11	19	2024-01-27	5
44	14	21	2024-01-27	8
45	6	23	2024-01-28	4
46	13	25	2024-01-28	7
47	20	26	2024-01-29	9
48	30	27	2024-01-29	5
49	4	3	2024-01-30	6
50	2	6	2024-01-30	8
51	24	8	2024-02-01	7
52	28	9	2024-02-01	4
53	19	11	2024-02-01	6
54	7	12	2024-02-02	5
55	25	14	2024-02-02	8
56	10	15	2024-02-03	4
57	23	17	2024-02-03	12
58	13	18	2024-02-04	5
59	11	19	2024-02-04	9
60	29	21	2024-02-04	6
61	30	23	2024-02-05	10
62	5	25	2024-02-05	7
63	3	26	2024-02-05	6
64	1	27	2024-02-06	5
65	17	3	2024-02-06	4
66	8	6	2024-02-07	9
67	22	8	2024-02-07	6
68	16	9	2024-02-08	10
69	14	11	2024-02-08	5
70	18	12	2024-02-08	3
71	23	14	2024-02-09	8
72	11	15	2024-02-09	6
73	9	17	2024-02-10	4
74	4	18	2024-02-10	7
75	6	19	2024-02-10	3
76	5	21	2024-02-11	5
77	12	23	2024-02-11	7
78	20	25	2024-02-11	10
79	26	26	2024-02-12	12
80	30	27	2024-02-12	5
81	27	3	2024-02-12	9
82	24	6	2024-02-13	4
83	14	8	2024-02-13	6
84	18	9	2024-02-14	8
85	10	11	2024-02-14	4
86	7	12	2024-02-14	5
87	3	14	2024-02-15	7
88	5	15	2024-02-15	6
89	8	17	2024-02-15	9
90	20	18	2024-02-16	11
91	16	19	2024-02-16	4
92	22	21	2024-02-17	6
93	30	23	2024-02-17	5
94	18	25	2024-02-18	7
95	11	26	2024-02-18	3
96	27	27	2024-02-18	12
97	23	3	2024-02-19	4
98	19	6	2024-02-19	7
99	5	8	2024-02-20	6
100	12	9	2024-02-20	4
101	14	11	2024-02-20	5
102	10	12	2024-02-21	7
103	7	14	2024-02-21	6
104	3	15	2024-02-22	8
105	5	17	2024-02-22	9
106	9	18	2024-02-22	3
107	18	19	2024-02-23	10
108	6	21	2024-02-23	4
109	13	23	2024-02-23	7
110	20	25	2024-02-24	12
111	11	26	2024-02-24	5
112	27	27	2024-02-25	10
113	14	3	2024-02-25	6
114	16	6	2024-02-26	9
115	22	8	2024-02-26	4
116	23	9	2024-02-27	6
117	12	11	2024-02-27	7
118	26	12	2024-02-27	8
119	29	14	2024-02-28	11
120	30	15	2024-02-28	5
121	28	3	2025-11-30	1
122	6	3	2025-11-30	1
123	28	3	2025-12-01	1
124	28	3	2025-12-01	1
\.


--
-- Data for Name: Рацион; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Рацион" ("IDРациона", "IDКорма", "ВидЖивотного", "Количество", "ЧастотаКормления") FROM stdin;
1	1	Зебра	5	2 раза в день
2	2	Корова	6	2 раза в день
3	3	Лошадь	4	2 раза в день
4	4	Козёл	3	2 раза в день
5	5	Кролик	1	3 раза в день
6	6	Черепаха	1	1 раз в день
7	7	Курица	1	2 раза в день
8	8	Тигр	6	1 раз в день
9	9	Пингвин	2	2 раза в день
10	10	Лев	7	1 раз в день
11	11	Енот	1	2 раза в день
12	12	Козёл горный	3	2 раза в день
13	13	Хомяк	1	3 раза в день
14	14	Попугай	1	2 раза в день
15	15	Верблюд	5	1 раз в день
16	16	Лось	5	2 раза в день
17	17	Свина	3	2 раза в день
18	18	Коза	3	2 раза в день
19	19	Овца	3	2 раза в день
20	20	Дамский олень	4	2 раза в день
21	21	Рысь	3	1 раз в день
22	22	Обезьяна	2	2 раза в день
23	23	Фазан	1	2 раза в день
24	24	Шимпанзе	2	2 раза в день
25	25	Тюлень	4	1 раз в день
26	26	Як	6	1 раз в день
27	27	Буйвол	6	2 раза в день
28	28	Сурок	1	3 раза в день
29	29	Лама	4	2 раза в день
30	30	Гепард	5	1 раз в день
31	25	Белый медведь	4	2 раза в день
\.


--
-- Data for Name: СоставЗакупки; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."СоставЗакупки" ("IDЗакупки", "IDКорма", "Количество") FROM stdin;
1	1	200
2	2	150
3	3	180
4	4	120
5	5	90
6	6	80
7	7	110
8	8	140
9	9	100
10	10	260
11	11	70
12	12	190
13	13	100
14	14	160
15	15	130
16	16	150
17	17	75
18	18	120
19	19	90
20	20	95
21	21	55
22	22	40
23	23	160
24	24	120
25	25	45
26	26	220
27	27	180
28	28	60
29	29	100
30	30	150
31	1	230
32	3	170
33	5	140
34	7	115
35	9	130
36	11	75
37	13	110
38	15	150
39	17	90
40	19	80
41	2	160
42	4	210
43	6	70
44	8	90
45	10	300
46	12	200
47	14	150
48	16	140
49	18	110
50	20	85
51	22	55
52	24	100
53	26	260
54	28	80
55	30	170
56	1	250
57	3	160
58	5	120
59	7	100
60	9	140
61	11	65
62	13	190
63	15	130
64	17	85
65	19	70
66	21	60
67	23	150
68	25	50
69	27	200
70	29	110
71	2	180
71	14	95
72	4	140
72	23	120
73	6	90
73	11	60
74	8	150
74	18	100
75	10	310
75	5	50
76	12	170
76	1	200
77	14	160
77	7	110
78	16	155
78	9	150
79	18	100
79	22	45
80	20	80
80	25	55
81	22	55
81	27	140
82	24	130
82	13	120
83	26	240
83	30	160
84	28	70
84	16	90
85	30	160
85	21	50
86	1	280
86	19	75
87	3	175
87	12	140
88	5	135
88	8	85
89	7	120
89	17	65
90	9	150
90	29	95
91	11	85
91	1	200
91	23	100
92	13	200
92	5	120
92	10	150
93	15	145
93	29	95
93	7	110
94	17	90
94	3	160
94	18	120
95	19	75
95	12	140
95	25	60
96	21	60
96	14	150
96	9	130
97	23	170
97	8	100
97	16	140
98	25	55
98	1	230
98	20	90
99	27	210
99	30	150
99	13	90
100	4	160
100	22	70
100	29	180
101	20	50
102	9	20
102	23	50
102	20	50
103	9	12
104	3	50
104	17	60
105	6	26
106	31	100
\.


--
-- Data for Name: Сотрудник; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Сотрудник" ("IDСотрудника", "ФИО", "Должность", "КонтактныеДанные", "ГрафикРаботы", "Пароль", "Статус") FROM stdin;
2	Савельев Егор Иванович	Менеджер	+7-915-143-45-67	5/2 08:00-18:00	123456	Активен
3	Иванов Иван Сергеевич	Зоотехник	+7-915-163-45-67	5/2 08:00-18:00	123456	Активен
7	Федоров Михаил Павлович	Менеджер	+7-903-509-84-10	5/2 08:30-17:30	123456	Активен
8	Алексеева Ольга Викторовна	Зоотехник	+7-999-221-78-33	5/2 08:00-18:00	123456	Активен
9	Соколов Денис Витальевич	Зоотехник	+7-905-714-22-89	2/2 07:00-19:00	123456	Активен
10	Морозова Кристина Игоревна	Менеджер	+7-977-553-19-44	5/2 09:00-18:00	123456	Активен
11	Андреев Егор Владимирович	Зоотехник	+7-903-641-72-99	5/2 08:00-18:00	123456	Активен
12	Громова Марина Сергеевна	Зоотехник	+7-929-110-16-55	2/2 07:00-19:00	123456	Активен
13	Ершов Николай Петрович	Менеджер	+7-915-201-63-77	5/2 09:00-18:00	123456	Активен
15	Орлов Дмитрий Евгеньевич	Зоотехник	+7-903-811-92-38	2/2 07:00-19:00	123456	Активен
16	Ковалев Павел Андреевич	Менеджер	+7-985-341-55-09	5/2 08:30-17:30	123456	Активен
17	Егорова Светлана Романовна	Зоотехник	+7-926-722-18-66	5/2 08:00-18:00	123456	Активен
18	Тарасов Роман Игнатьевич	Зоотехник	+7-903-100-49-88	2/2 07:00-19:00	123456	Активен
19	Киселева Вероника Сергеевна	Зоотехник	+7-916-733-41-78	5/2 08:00-18:00	123456	Активен
20	Белова Софья Андреевна	Менеджер	+7-977-561-33-76	5/2 09:00-18:00	123456	Активен
21	Романов Илья Петрович	Зоотехник	+7-905-222-45-90	5/2 08:00-18:00	123456	Активен
22	Лебедева Яна Даниловна	Руководитель	+7-903-451-60-14	5/2 08:00-17:00	123456	Активен
23	Жуков Артем Ильич	Зоотехник	+7-915-101-92-28	2/2 07:00-19:00	123456	Активен
24	Попова Елизавета Михайловна	Менеджер	+7-929-119-35-07	5/2 09:00-18:00	123456	Активен
25	Гаврилов Кирилл Степанович	Зоотехник	+7-999-311-80-19	5/2 08:00-18:00	123456	Активен
26	Соловьева Анна Викторовна	Зоотехник	+7-916-512-77-23	2/2 07:00-19:00	123456	Активен
27	Куликов Олег Михайлович	Зоотехник	+7-903-999-18-22	5/2 08:00-18:00	123456	Активен
28	Коршиков Евгений Дмитриевич	Зоотехник	+7 987 678-56-78	5/2 08:00-17:00	123456	Активен
6	Кузнецова Дарья Николаевна	Зоотехник	+7-926-771-63-42	2/2 07:00-19:00	123456	Неактивен
1	Иванов Иван Иванович	Менеджер	+7-915-113-45-67	5/2 08:00-18:00	123456	Активен
5	Семенов Алексей Дмитриевич	Руководитель	+7-903-441-51-77	5/2 08:00-17:00	123	Активен
14	Васильева Алина Максимовна	Зоотехник	+7-999-910-44-01	5/2 08:00-18:00	123456	Неактивен
32	Кореева Александра Олеговна	Зоотехник	+7 987 678-56-70	5/2 08:00-17:00	1368	Активен
4	Петрова Мария Александровна	Менеджер	+7-916-228-14-92	5/2 09:00-18:00	123456	Неактивен
\.


--
-- Name: Животное_IDЖивотного_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Животное_IDЖивотного_seq"', 55, true);


--
-- Name: Кормление_IDКормления_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Кормление_IDКормления_seq"', 172, true);


--
-- Name: Медкарта_IDМедкарты_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Медкарта_IDМедкарты_seq"', 109, true);


--
-- Name: Неисправность_IDНеисправности_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Неисправность_IDНеисправности_seq"', 51, true);


--
-- Name: Рацион_IDРациона_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Рацион_IDРациона_seq"', 31, true);


--
-- Name: Сотрудник_IDСотрудника_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Сотрудник_IDСотрудника_seq"', 32, true);


--
-- Name: Животное Животное_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Животное"
    ADD CONSTRAINT "Животное_pkey" PRIMARY KEY ("IDЖивотного");


--
-- Name: Животное Животное_Кличка_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Животное"
    ADD CONSTRAINT "Животное_Кличка_key" UNIQUE ("Кличка");


--
-- Name: Закупка Закупка_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Закупка"
    ADD CONSTRAINT "Закупка_pkey" PRIMARY KEY ("IDЗакупки");


--
-- Name: Корм Корм_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Корм"
    ADD CONSTRAINT "Корм_pkey" PRIMARY KEY ("IDКорма");


--
-- Name: Кормление Кормление_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Кормление"
    ADD CONSTRAINT "Кормление_pkey" PRIMARY KEY ("IDКормления");


--
-- Name: Медкарта Медкарта_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Медкарта"
    ADD CONSTRAINT "Медкарта_pkey" PRIMARY KEY ("IDМедкарты");


--
-- Name: Неисправность Неисправность_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Неисправность"
    ADD CONSTRAINT "Неисправность_pkey" PRIMARY KEY ("IDНеисправности");


--
-- Name: Расход Расход_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Расход"
    ADD CONSTRAINT "Расход_pkey" PRIMARY KEY ("IDРасхода");


--
-- Name: Рацион Рацион_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Рацион"
    ADD CONSTRAINT "Рацион_pkey" PRIMARY KEY ("IDРациона");


--
-- Name: СоставЗакупки СоставЗакупки_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."СоставЗакупки"
    ADD CONSTRAINT "СоставЗакупки_pkey" PRIMARY KEY ("IDЗакупки", "IDКорма");


--
-- Name: Сотрудник Сотрудник_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Сотрудник"
    ADD CONSTRAINT "Сотрудник_pkey" PRIMARY KEY ("IDСотрудника");


--
-- Name: Сотрудник Сотрудник_КонтактныеДанные_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Сотрудник"
    ADD CONSTRAINT "Сотрудник_КонтактныеДанные_key" UNIQUE ("КонтактныеДанные");


--
-- Name: Закупка trg_check_purchase_items; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER trg_check_purchase_items BEFORE UPDATE ON public."Закупка" FOR EACH ROW EXECUTE FUNCTION public.check_purchase_items();


--
-- Name: Закупка trg_check_status; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER trg_check_status BEFORE UPDATE OF "СтатусПоставки" ON public."Закупка" FOR EACH ROW EXECUTE FUNCTION public.check_purchase_status();


--
-- Name: Животное Животное_ПроверкаРациона; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER "Животное_ПроверкаРациона" AFTER INSERT OR UPDATE ON public."Животное" FOR EACH ROW EXECUTE FUNCTION public."Животное_ПроверкаРациона_fn"();


--
-- Name: Медкарта Медкарта_Дата; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER "Медкарта_Дата" BEFORE INSERT ON public."Медкарта" FOR EACH ROW EXECUTE FUNCTION public."Медкарта_Дата_fn"();


--
-- Name: Неисправность Неисправность_NoDelete_Ustraneno; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER "Неисправность_NoDelete_Ustraneno" BEFORE DELETE ON public."Неисправность" FOR EACH ROW EXECUTE FUNCTION public."Неисправность_NoDelete_Ustraneno_fn"();


--
-- Name: Неисправность Неисправность_NoUpdate_Ustraneno; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER "Неисправность_NoUpdate_Ustraneno" BEFORE UPDATE ON public."Неисправность" FOR EACH ROW EXECUTE FUNCTION public."Неисправность_NoUpdate_Ustraneno_fn"();


--
-- Name: Неисправность Неисправность_SetDate; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER "Неисправность_SetDate" BEFORE UPDATE ON public."Неисправность" FOR EACH ROW EXECUTE FUNCTION public."Неисправность_SetDate_fn"();


--
-- Name: Неисправность Неисправность_StatusChain; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER "Неисправность_StatusChain" BEFORE UPDATE ON public."Неисправность" FOR EACH ROW EXECUTE FUNCTION public."Неисправность_StatusChain_fn"();


--
-- Name: Животное FK_Животное_Рацион; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Животное"
    ADD CONSTRAINT "FK_Животное_Рацион" FOREIGN KEY ("IDРациона") REFERENCES public."Рацион"("IDРациона");


--
-- Name: Животное FK_Животное_Сотрудник; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Животное"
    ADD CONSTRAINT "FK_Животное_Сотрудник" FOREIGN KEY ("IDСотрудника") REFERENCES public."Сотрудник"("IDСотрудника");


--
-- Name: Закупка FK_Закупка_Сотрудник; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Закупка"
    ADD CONSTRAINT "FK_Закупка_Сотрудник" FOREIGN KEY ("IDСотрудника") REFERENCES public."Сотрудник"("IDСотрудника");


--
-- Name: Кормление FK_Кормление_Животное; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Кормление"
    ADD CONSTRAINT "FK_Кормление_Животное" FOREIGN KEY ("IDЖивотного") REFERENCES public."Животное"("IDЖивотного");


--
-- Name: Кормление FK_Кормление_Сотрудник; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Кормление"
    ADD CONSTRAINT "FK_Кормление_Сотрудник" FOREIGN KEY ("IDСотрудника") REFERENCES public."Сотрудник"("IDСотрудника");


--
-- Name: Медкарта FK_Медкарта_Животное; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Медкарта"
    ADD CONSTRAINT "FK_Медкарта_Животное" FOREIGN KEY ("IDЖивотного") REFERENCES public."Животное"("IDЖивотного");


--
-- Name: Медкарта FK_Медкарта_Сотрудник; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Медкарта"
    ADD CONSTRAINT "FK_Медкарта_Сотрудник" FOREIGN KEY ("IDСотрудника") REFERENCES public."Сотрудник"("IDСотрудника");


--
-- Name: Неисправность FK_Неисправность_Сотрудник; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Неисправность"
    ADD CONSTRAINT "FK_Неисправность_Сотрудник" FOREIGN KEY ("IDСотрудника") REFERENCES public."Сотрудник"("IDСотрудника");


--
-- Name: Расход FK_Расход_Корм; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Расход"
    ADD CONSTRAINT "FK_Расход_Корм" FOREIGN KEY ("IDКорма") REFERENCES public."Корм"("IDКорма");


--
-- Name: Расход FK_Расход_Сотрудник; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Расход"
    ADD CONSTRAINT "FK_Расход_Сотрудник" FOREIGN KEY ("IDСотрудника") REFERENCES public."Сотрудник"("IDСотрудника");


--
-- Name: Рацион FK_Рацион_Корм; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Рацион"
    ADD CONSTRAINT "FK_Рацион_Корм" FOREIGN KEY ("IDКорма") REFERENCES public."Корм"("IDКорма");


--
-- Name: СоставЗакупки FK_СоставЗакупки_Закупка; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."СоставЗакупки"
    ADD CONSTRAINT "FK_СоставЗакупки_Закупка" FOREIGN KEY ("IDЗакупки") REFERENCES public."Закупка"("IDЗакупки");


--
-- Name: СоставЗакупки FK_СоставЗакупки_Корм; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."СоставЗакупки"
    ADD CONSTRAINT "FK_СоставЗакупки_Корм" FOREIGN KEY ("IDКорма") REFERENCES public."Корм"("IDКорма");


--
-- PostgreSQL database dump complete
--

\unrestrict TFlGGcugEW00qNX4Ic1dBAAsfEn7Y4zT2YdaBbm3TvntBU4NZntBwkPZmL0hcSH

